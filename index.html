<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <title>物藥而浴</title>
        <link rel="shortcut icon" href="img/logo.jpg" type="image/x-icon">
        <script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>
        <script src="script/question.js"></script>
        <style>
            div{
                text-align: center;
                width: 1920;
                height: 1080;
            }

            img{
                width: 100%;
                height: 100%;
            }
        </style>
    </head>
    <body>
        <h1 style="text-align: center;">微光森林</h1>
        <h2 id="question"></h2>
        <div>
            <!-- img loading: 
                Reference by https://blog.csdn.net/weixin_44058725/article/details/118412359
            -->
            <img src="img/main.png" id="img" alt="">    
            <div id="options"></div>
        </div>
        
        <!--
            <link rel="stylesheet" href="style.css">
            <script src="script/main.js"></script>
        <script src="script/main.js"> </script>
        <img id="img" style="float: center" alt="">
        <button>Next</button>
        <input style="float: right" type="button" value="Next" id="next">
        -->
        <input type="button" id="next" style="float: right;" value="Next"></button>
    </body>
</html>
<script>
    // below is about question
    let questionsArr = [
        {
            "question":""
        },
        {
            "question":""
        },
        {
            "question":""
        },
        {
            "question":"這時晚風用很舒服的力道推著你往前看看，於是你緩緩的站起身來……..發現周遭景色與你平常所看見的都市叢林不同，你認為你眼前的是什麼?"
        },
        {
            "question":"接著，你聽見森林另頭有些騷動，好奇心帶著你走向前瞧瞧撥開草叢那瞬間，你發現了什麼？"
        }
    ]
    
    let answersArr = [
        {
            "answers":""
        },
        {
            "answers":""
        },
        {
            "answers":""
        },
        {
            "answers":[
                ["A. 雖然很陰暗，但溫暖的風給你一股親切感，讓你並不害怕","A"],
                ["B. 鬱鬱蔥蔥的森林，有道月光照射在一束鈴蘭","B"],
                ["C. 在高聳參天的大樹樹根旁，有一小叢四葉幸運草","C"],
                ["D. 奇形怪狀的樹林，在長滿青苔的岩石上居然冒出了幾朵靈芝","D"]
            ]
        },
        {
            "answers":[
                ["A. 有隻正在和蝴蝶玩的棕熊",3,"E"],
                ["B. 有隻四處翻找東西的兔子",1,"B"],
                ["C. 有隻在舔舐手背整理鬃毛的獅子",1,"C"],
                ["D. 有隻直勾勾盯著你看的貓頭鷹",1,"D"]
            ]
        }
    ]

    let questions = document.getElementById("question");
    let option = document.getElementById("option");
    // above is about question


    // below is about img 
    // load the imgs
    let imgArr = [
        "img/main.png",
        "img/pic01.png",
        "img/pic02.png",
        "img/pic03.png",
        "img/pic04.png",
        "img/pic05.png",
        "img/pic06.png"
    ]

    let img = document.getElementById("img"); // img target
    let next = document.getElementById("next"); // next button dom
    var i = 0;
    defaultImg(imgArr, img, i, questionsArr,questions,answersArr,options);
    next.addEventListener("click", ()=>{
        nextFn(imgArr, img)
    })
    
    let q2 = null;
    let q3 = null;
    let q4 = null;

    function nextFn(imgarr){
        //let q1 = document.getElementById("option");
        var obj=document.getElementsByName("option");
        var selected=[];
        if(i>=1){
            img.src = imgarr[i];
            questions.innerText = questionsArr[i].question;
            $("#options").empty();
            for(let x = 0; x < answersArr[i].answers.length; x++){
                //options.innerText = answersArr[i].answers[x];
                $("#options").append(//用append 把選項內容放到options
                        "<input name = 'options' type = 'radio' value ="+x+"> "+//點擊選擇這個按鈕 裡面的選擇的內容x
                        "<label>"+answersArr[i].answers[x][0]+//第零題的第x個選項的內容
                        "</label><br><br>"//br->空行(換行)
                );
            }
        }
        i++;
        img.src = imgarr[i];
        
    }
    // above is about img 
    function defaultImg(arr,img,index,q_arr,question,answersArr,options){
        img.src = arr[index];
        //question.innerText = q_arr[index].question;
        //options.innerText = answersArr[index].answers[0];
    }
    

    let finalAnswers={
        "A":["扶桑花、向日葵"],
        "E":["麥茶"],
        "a":["出現志趣相投的夥伴或受到貴人助 （出現志趣相投的夥伴或受到貴人助"]
    }
</script>